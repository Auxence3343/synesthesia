<!doctype html>
<html lang="en" class="h-100 text-center">

<head>
    <link rel="icon" type="image/png" href="Images/peinture.png" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Synesthesia - listening</title>
    <link href="style/bootstrap.min.css" rel="stylesheet">
    <link href="style/home.css" rel="stylesheet">
    <link href="script/dynamic.js">
    <meta name="theme-color" content="#7952b3">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

</head>

<body class="d-flex h-100 text-center">
    <style>
        .bd-placeholder-img {
          font-size: 1.125rem;
          text-anchor: middle;
          -webkit-user-select: none;
          -moz-user-select: none;
          user-select: none;
        }
  
        @media (min-width: 768px) {
          .bd-placeholder-img-lg {
            font-size: 3.5rem;
          }
        }
    </style>

    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column ">
        <header class="mb-3">
            <div>
                <h3 class="float-md-start mb-0"> <a href="./index.html"><img class ="img-2 px-1 my-auto mx-0" src = "Images/peinture.png" alt = "logo"></a>Synesthes.ia</h3>
                <nav class="nav nav-masthead justify-content-center float-md-end">
                    <a class="nav-link" href="./index.html">Home</a>
                    <a class="nav-link active" aria-current="page" href="./selection.html">Essayez !</a>
                    <a class="nav-link" href="./gameindex.html">Jeu</a>
                    <a class="nav-link" href="./apropos.html">A propos</a>
                </nav>
            </div>
        </header>

    <div class = "grid-container"> 

        <!--<div class="card text-white bg-#7b8ab8 mb-auto mt-auto ms-0 me-auto justify" style="max-width: 100rem;">
            <h1 class="card-header mt-0">Nom du tableau</h1>
            <div class="card-body d-flex flex-column">
                <img class="img" src="Images/The_Zouave.jpeg" alt="tableau généré">
                <a href="https://fr.wikipedia.org/wiki/Zouaves" class="card-link text-muted">Documentation sur l'oeuvre</a>
            </div>
        </div>-->

        <div class="boxDisplayImage">
            <p class="lead">
                <div class="card text-white bg-dark mb-3" style="max-width: 100rem; max-height:50rem">
                    <h1 class="card-header">Nom du tableau</h1>
                    <div class="card-body d-flex flex-column" id="result">
                        <img class="img" src="Images/The_Zouave.jpeg" alt="tableau généré">
                        <a href="https://fr.wikipedia.org/wiki/Zouaves" class="card-link text-muted">Documentation sur l'oeuvre</a>
                    </div>
                </div>
            </p>
        </div>

        <div class="boxDownload center">
            <p class="lead">
                <div class="card text-white bg-dark mb-3" style="max-width: 500 rem;">
                    
                    <div class="card-body">
                        <h3 class="card-title">
                            Essayez !
                        </h3>
                        <p class = "mt-0 mb-auto"> 
                            <audio controls>
                                <source src="Musique/brunomars.mp3" type="audio/mpeg">Your browser does not support the audio tag.
                                </audio>
                        </p>
                        <a id ="download-btn" class="btn btn-lg btn-secondary fw-bold border-white bg-white" onclick = 'downloadTest()'>Télécharger</a>
                        
                </div>
                </div>
            </p>
        </div>

        <div class="boxOther">
            <p class="lead">
                <a href="./selection.html" class="btn btn-lg btn-secondary fw-bold border-white bg-white">Autre tableau</a>
            </p>
        </div>

         <div class="boxNext">
            <p class="lead">
                <a href="./form.html" class="btn btn-lg btn-secondary fw-bold border-white bg-white">Suivant</a>
            </p>
        </div>

        <div class="boxFooterListening">
            <p>Projet réalisé par le groupe 6.4 du PACT 2023 de Télécom Paris</p>
        </div>
    </div>

    <script type="text/javascript">

        $(document).ready(function(){
            $('#result').load('./selection.html #foresult');
        });
        /*function download(sFile) {
           var s  = document.createElement("script");
           s.src  = "download.php?sFilename="+sFile;
           s.type = "text/javascript";
           document.body.appendChild(s);
        }

        const downloadBtn = document.getElementById('download-btn');
        const fileUrl = 'Musique/brunomars.mp3';

        downloadBtn.addEventListener('click', () => {
         // Use the HTML5 download attribute to download the file
        const link = document.createElement('a');
        link.setAttribute('href', fileUrl);
        link.setAttribute('download', '');
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        });*/

        function downloadTest() {fetch('Musique/brunomars.mp3').then(response => response.blob()).then(blob => {
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'brunomars.mp3';
            console.log("test");
        });}

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous">
    </script>
</body>
</html>